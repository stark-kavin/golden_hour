<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The 5 Whys | Interactive Root Cause Analysis</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;700&family=Syne:wght@400;700;800&display=swap" rel="stylesheet">
    
    <!-- GSAP Core & Plugins -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollToPlugin.min.js"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Space Grotesk', 'sans-serif'],
                        display: ['Syne', 'sans-serif'],
                    },
                    colors: {
                        'dark': '#0b0c10',
                        'gray-dark': '#1f2833',
                        'neon-blue': '#45a29e',
                        'neon-green': '#66fcf1',
                        'alert': '#ef4444',
                        'surface': '#121212'
                    }
                }
            }
        }
    </script>

    <style>
        body {
            background-color: #0b0c10;
            color: white;
            overflow-x: hidden; /* Critical for scrolltrigger horizontal */
        }
        
        /* Hide scrollbar for clean look */
        ::-webkit-scrollbar {
            width: 0px;
            background: transparent;
        }

        .panel {
            width: 100vw;
            height: 100vh;
            flex-shrink: 0;
            display: flex;
            position: relative;
            overflow: hidden;
        }

        /* Typography outlines for style */
        .text-outline {
            -webkit-text-stroke: 1px rgba(255, 255, 255, 0.3);
            color: transparent;
        }
        
        .glass-card {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Subtle grain texture overlay */
        .noise-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
            pointer-events: none;
            z-index: 9999;
        }

        /* Smooth scroll container */
        .scroll-container {
            display: flex;
            flex-wrap: nowrap;
            height: 100vh;
            width: 1200%; /* 12 sections * 100% */
        }
    </style>
</head>
<body class="antialiased selection:bg-neon-blue selection:text-black">
    
    <div class="noise-overlay"></div>

    <!-- Navigation / Progress -->
    <nav class="fixed top-0 left-0 w-full z-50 p-6 flex justify-between items-center mix-blend-difference">
        <div class="font-display font-bold text-xl tracking-tighter">RCA <span class="text-neon-green">5WHYS</span></div>
        <div class="flex gap-4 items-center">
            <div class="text-xs font-mono opacity-60 hidden md:block">SCROLL TO EXPLORE</div>
            <div class="w-24 h-1 bg-white/20 rounded-full overflow-hidden">
                <div id="progress-bar" class="h-full w-0 bg-neon-green"></div>
            </div>
            <span id="slide-counter" class="font-mono text-sm font-bold w-12 text-right">01/12</span>
        </div>
    </nav>

    <!-- Floating Navigation Arrows -->
    <div class="fixed bottom-10 right-10 z-50 flex gap-2">
        <button id="prevBtn" class="w-12 h-12 rounded-full glass-card flex items-center justify-center hover:bg-neon-green hover:text-black transition-all duration-300">
            <i class="fa-solid fa-arrow-left"></i>
        </button>
        <button id="nextBtn" class="w-12 h-12 rounded-full glass-card flex items-center justify-center hover:bg-neon-green hover:text-black transition-all duration-300">
            <i class="fa-solid fa-arrow-right"></i>
        </button>
    </div>

    <!-- Main Scroll Container -->
    <div class="outer-wrapper overflow-hidden">
        <div class="scroll-container" id="container">
            
            <!-- SECTION 1: INTRO -->
            <section class="panel bg-dark items-center justify-center relative">
                <div class="absolute inset-0 z-0">
                    <img src="robot_bg.png" class="w-full h-full object-cover opacity-20 scale-125" data-speed="0.5">
                </div>
                <div class="z-10 text-center px-4">
                    <div class="overflow-hidden mb-4">
                        <div class="anim-text-reveal text-neon-green font-mono tracking-[0.5em] text-sm uppercase">Root Cause Analysis</div>
                    </div>
                    <div class="overflow-hidden">
                        <h1 class="anim-title-reveal font-display text-7xl md:text-9xl font-black leading-none mb-2">THE 5 WHYS</h1>
                    </div>
                    <div class="overflow-hidden mb-8">
                        <h2 class="anim-text-reveal text-4xl md:text-6xl font-light text-white/50 font-display">METHODOLOGY</h2>
                    </div>
                    <div class="mt-8 anim-fade-up">
                        <p class="text-sm text-gray-400 max-w-md mx-auto border-l-2 border-neon-green pl-4 text-left">
                            A journey beneath the surface of problems to discover their true origins.
                        </p>
                    </div>
                </div>
            </section>

            <!-- SECTION 2: THE CONCEPT -->
            <section class="panel bg-gray-dark items-center relative">
                <div class="absolute right-0 top-0 w-1/2 h-full bg-gradient-to-l from-neon-blue/10 to-transparent"></div>
                <div class="container mx-auto px-8 md:px-20 grid md:grid-cols-2 gap-12 items-center z-10">
                    <div class="order-2 md:order-1">
                        <i class="fa-solid fa-layer-group text-6xl text-neon-green mb-6 anim-icon-float"></i>
                        <h2 class="text-5xl font-display font-bold mb-6 leading-tight">Peel Back<br>The Layers</h2>
                        <p class="text-lg text-gray-300 leading-relaxed mb-8 max-w-lg">
                            Most people solve symptoms. Masters solve problems. The "5 Whys" is an iterative interrogative technique used to explore the cause-and-effect relationships underlying a particular problem.
                        </p>
                    </div>
                    <div class="order-1 md:order-2 flex justify-center">
                        <div class="relative w-80 h-80">
                            <!-- Animated concentric circles -->
                            <div class="absolute inset-0 border border-white/10 rounded-full scale-[0.6] opacity-30"></div>
                            <div class="absolute inset-0 border border-white/20 rounded-full scale-[0.8] opacity-50"></div>
                            <div class="absolute inset-0 border border-neon-green/30 rounded-full scale-[1] animate-pulse"></div>
                            <div class="absolute inset-0 flex items-center justify-center">
                                <span class="font-display text-8xl font-bold text-outline">5</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- SECTION 3: THE PIONEER -->
            <section class="panel bg-surface items-center justify-center">
                <div class="absolute left-0 bottom-0 w-96 h-96 bg-neon-blue/20 blur-[100px] rounded-full"></div>
                
                <div class="flex flex-col md:flex-row items-center gap-16 max-w-6xl mx-auto px-6 z-10">
                    <div class="relative group">
                        <div class="absolute -inset-4 bg-neon-green/20 rounded-full blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-700"></div>
                        <img src="robot_bg.png" class="w-64 h-64 md:w-80 md:h-80 object-cover rounded-full grayscale contrast-125 border-4 border-white/10 relative z-10" alt="Industrial">
                    </div>
                    <div class="max-w-xl">
                        <div class="text-neon-blue font-mono mb-2">THE PIONEER</div>
                        <h2 class="text-6xl font-display font-bold mb-4">Sakichi Toyoda</h2>
                        <h3 class="text-2xl text-gray-400 mb-6 italic font-serif">Father of the Japanese Industrial Revolution</h3>
                        <p class="text-lg leading-relaxed border-l-4 border-neon-green pl-6">
                            "By repeating why five times, the nature of the problem as well as its solution becomes clear." â€” The philosophy that built the Toyota Production System.
                        </p>
                    </div>
                </div>
            </section>

            <!-- SECTION 4: THE PROBLEM SCENARIO -->
            <section class="panel bg-black items-center justify-center text-center relative">
                <div class="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-20"></div>
                
                <!-- Red Alarm Light Effect -->
                <div class="absolute top-10 right-10 w-4 h-4 bg-red-500 rounded-full shadow-[0_0_50px_20px_rgba(239,68,68,0.5)] animate-pulse"></div>

                <div class="z-10 max-w-4xl px-6">
                    <div class="inline-block px-4 py-1 border border-red-500/50 text-red-500 rounded-full mb-8 text-sm tracking-widest uppercase bg-red-500/10 backdrop-blur-md">
                        Critical Failure Detected
                    </div>
                    <h2 class="text-5xl md:text-7xl font-bold font-display mb-8">
                        "The Welding Robot<br><span class="text-red-500">Has Stopped.</span>"
                    </h2>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 text-left mt-12">
                        <div class="glass-card p-6 rounded-xl border-t-2 border-red-500">
                            <i class="fa-solid fa-triangle-exclamation text-3xl text-red-500 mb-4"></i>
                            <h4 class="font-bold mb-2">Production Halted</h4>
                            <p class="text-sm text-gray-400">Line 4 is down. Costing $500/minute.</p>
                        </div>
                        <div class="glass-card p-6 rounded-xl opacity-50">
                            <i class="fa-solid fa-clock text-3xl text-gray-500 mb-4"></i>
                            <h4 class="font-bold mb-2">Deadline Risk</h4>
                            <p class="text-sm text-gray-400">Shipment scheduled for 4:00 PM.</p>
                        </div>
                        <div class="glass-card p-6 rounded-xl opacity-50">
                            <i class="fa-solid fa-users text-3xl text-gray-500 mb-4"></i>
                            <h4 class="font-bold mb-2">Staff Idle</h4>
                            <p class="text-sm text-gray-400">12 operators waiting for fix.</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- WHY 1 -->
            <section class="panel bg-gray-900 relative">
                <div class="absolute left-0 top-0 h-full w-1/2 bg-surface hidden md:block z-0"></div>
                <div class="container mx-auto px-8 h-full flex items-center relative z-10">
                    <div class="w-full flex flex-col md:flex-row gap-12 items-center">
                        <div class="md:w-1/2 relative">
                            <span class="absolute -top-20 -left-10 text-[12rem] font-bold text-white/5 font-display select-none">1</span>
                            <div class="relative z-10">
                                <h3 class="text-neon-green text-xl font-bold mb-2 uppercase tracking-wide">First Why</h3>
                                <h2 class="text-4xl md:text-5xl font-bold mb-6">Why did the robot stop?</h2>
                                <div class="bg-gray-800 p-6 rounded-lg border-l-4 border-white">
                                    <p class="text-2xl font-light">"The circuit <span class="text-white font-bold">fuse blew</span>."</p>
                                </div>
                            </div>
                        </div>
                        <div class="md:w-1/2 flex justify-center">
                            <div class="w-full max-w-md aspect-video bg-black rounded-xl overflow-hidden relative shadow-2xl group">
                                <img src="fuse.png" class="w-full h-full object-cover opacity-60 group-hover:scale-110 transition-transform duration-700">
                                <div class="absolute inset-0 flex items-center justify-center">
                                    <i class="fa-solid fa-car-battery text-6xl text-white drop-shadow-[0_0_10px_rgba(255,255,255,0.5)]"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- WHY 2 -->
            <section class="panel bg-gray-900 relative">
                 <div class="absolute right-0 top-0 h-full w-1/2 bg-surface hidden md:block z-0"></div>
                <div class="container mx-auto px-8 h-full flex items-center relative z-10">
                    <div class="w-full flex flex-col md:flex-row-reverse gap-12 items-center">
                        <div class="md:w-1/2 relative text-right">
                            <span class="absolute -top-20 -right-10 text-[12rem] font-bold text-white/5 font-display select-none">2</span>
                            <div class="relative z-10">
                                <h3 class="text-neon-blue text-xl font-bold mb-2 uppercase tracking-wide">Second Why</h3>
                                <h2 class="text-4xl md:text-5xl font-bold mb-6">Why did the fuse blow?</h2>
                                <div class="bg-gray-800 p-6 rounded-lg border-r-4 border-neon-blue inline-block text-right">
                                    <p class="text-2xl font-light">"Because the circuit was <span class="text-white font-bold">overloaded</span>."</p>
                                </div>
                            </div>
                        </div>
                        <div class="md:w-1/2 flex justify-center">
                            <div class="w-full max-w-md aspect-video bg-black rounded-xl overflow-hidden relative shadow-2xl group">
                                <img src="overload.png" class="w-full h-full object-cover opacity-60 group-hover:scale-110 transition-transform duration-700">
                                <div class="absolute inset-0 flex items-center justify-center">
                                    <i class="fa-solid fa-bolt text-6xl text-yellow-400 drop-shadow-[0_0_15px_rgba(250,204,21,0.6)]"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- WHY 3 -->
            <section class="panel bg-gray-900 relative">
                 <div class="absolute left-0 top-0 h-full w-1/2 bg-surface hidden md:block z-0"></div>
                <div class="container mx-auto px-8 h-full flex items-center relative z-10">
                    <div class="w-full flex flex-col md:flex-row gap-12 items-center">
                        <div class="md:w-1/2 relative">
                            <span class="absolute -top-20 -left-10 text-[12rem] font-bold text-white/5 font-display select-none">3</span>
                            <div class="relative z-10">
                                <h3 class="text-neon-green text-xl font-bold mb-2 uppercase tracking-wide">Third Why</h3>
                                <h2 class="text-4xl md:text-5xl font-bold mb-6">Why was the circuit overloaded?</h2>
                                <div class="bg-gray-800 p-6 rounded-lg border-l-4 border-white">
                                    <p class="text-2xl font-light">"The bearings were <span class="text-white font-bold">locking up</span>."</p>
                                </div>
                            </div>
                        </div>
                        <div class="md:w-1/2 flex justify-center">
                            <div class="w-full max-w-md aspect-video bg-black rounded-xl overflow-hidden relative shadow-2xl group">
                                <img src="shaft.png" class="w-full h-full object-cover opacity-60 group-hover:scale-110 transition-transform duration-700">
                                <div class="absolute inset-0 flex items-center justify-center">
                                    <i class="fa-solid fa-gear text-6xl text-gray-300 fa-spin" style="animation-duration: 3s"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- WHY 4 -->
            <section class="panel bg-gray-900 relative">
                 <div class="absolute right-0 top-0 h-full w-1/2 bg-surface hidden md:block z-0"></div>
                <div class="container mx-auto px-8 h-full flex items-center relative z-10">
                    <div class="w-full flex flex-col md:flex-row-reverse gap-12 items-center">
                        <div class="md:w-1/2 relative text-right">
                            <span class="absolute -top-20 -right-10 text-[12rem] font-bold text-white/5 font-display select-none">4</span>
                            <div class="relative z-10">
                                <h3 class="text-neon-blue text-xl font-bold mb-2 uppercase tracking-wide">Fourth Why</h3>
                                <h2 class="text-4xl md:text-5xl font-bold mb-6">Why were they locking up?</h2>
                                <div class="bg-gray-800 p-6 rounded-lg border-r-4 border-neon-blue inline-block text-right">
                                    <p class="text-2xl font-light">"There was <span class="text-white font-bold">insufficient lubrication</span> on the shaft."</p>
                                </div>
                            </div>
                        </div>
                        <div class="md:w-1/2 flex justify-center">
                            <div class="w-full max-w-md aspect-video bg-black rounded-xl overflow-hidden relative shadow-2xl group">
                                <img src="no_lubricant.png" class="w-full h-full object-cover opacity-60 group-hover:scale-110 transition-transform duration-700">
                                <div class="absolute inset-0 flex items-center justify-center">
                                    <i class="fa-solid fa-oil-can text-6xl text-orange-400"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- WHY 5: ROOT CAUSE -->
            <section class="panel bg-gradient-to-br from-gray-900 to-black relative">
                <div class="absolute inset-0 bg-neon-green/5"></div>
                <div class="container mx-auto px-8 flex flex-col items-center justify-center text-center relative z-10">
                    
                    <div class="mb-8 relative">
                        <div class="absolute -inset-10 bg-neon-green/10 blur-3xl rounded-full"></div>
                        <span class="font-display text-9xl font-bold text-neon-green opacity-20 block">5</span>
                    </div>

                    <h2 class="text-neon-green font-mono text-xl mb-4 tracking-[0.3em] uppercase">The Root Cause</h2>
                    <h1 class="text-5xl md:text-7xl font-bold mb-8 leading-tight">
                        "The oil pump intake was<br>
                        <span class="text-transparent bg-clip-text bg-gradient-to-r from-neon-green to-neon-blue">clogged with metal shavings.</span>"
                    </h1>
                    
                    <div class="glass-card p-8 rounded-2xl max-w-2xl border border-neon-green/20">
                        <p class="text-xl text-gray-300 italic">
                            "If we hadn't asked why 5 times, we would have just replaced the fuse. The robot would have broken again tomorrow."
                        </p>
                    </div>

                </div>
            </section>

            <!-- THE FIX -->
            <section class="panel bg-dark items-center justify-center">
                <div class="container mx-auto px-8 grid grid-cols-1 md:grid-cols-2 gap-8 max-w-6xl">
                    
                    <!-- Symptom Fix -->
                    <div class="glass-card p-10 rounded-2xl border-t-4 border-red-500 opacity-50 hover:opacity-100 transition-opacity transform hover:-translate-y-2 duration-500">
                        <div class="text-red-500 font-bold mb-4 uppercase tracking-widest text-sm">The Symptom Fix</div>
                        <h3 class="text-4xl font-bold mb-4">Replace Fuse</h3>
                        <ul class="space-y-4 text-gray-400">
                            <li class="flex items-center gap-3"><i class="fa-solid fa-xmark text-red-500"></i> Fast but temporary</li>
                            <li class="flex items-center gap-3"><i class="fa-solid fa-xmark text-red-500"></i> Ignores mechanical wear</li>
                            <li class="flex items-center gap-3"><i class="fa-solid fa-xmark text-red-500"></i> Repeat failures guaranteed</li>
                        </ul>
                    </div>

                    <!-- Root Cause Fix -->
                    <div class="glass-card p-10 rounded-2xl border-t-4 border-neon-green bg-neon-green/5 transform scale-105 shadow-[0_0_40px_rgba(102,252,241,0.1)]">
                        <div class="text-neon-green font-bold mb-4 uppercase tracking-widest text-sm">The Root Fix</div>
                        <h3 class="text-4xl font-bold mb-4">Install Strainer</h3>
                        <ul class="space-y-4 text-white">
                            <li class="flex items-center gap-3"><i class="fa-solid fa-check text-neon-green"></i> Prevents shavings entering</li>
                            <li class="flex items-center gap-3"><i class="fa-solid fa-check text-neon-green"></i> Protects the pump</li>
                            <li class="flex items-center gap-3"><i class="fa-solid fa-check text-neon-green"></i> Solves problem forever</li>
                        </ul>
                    </div>

                </div>
            </section>

            <!-- CONCLUSION -->
            <section class="panel bg-black items-center justify-center text-center relative overflow-hidden">
                <div class="absolute inset-0 bg-gradient-to-t from-neon-blue/20 via-transparent to-transparent"></div>
                <div class="relative z-10 max-w-4xl px-6">
                    <i class="fa-solid fa-lightbulb text-8xl text-yellow-100 mb-8 drop-shadow-[0_0_35px_rgba(253,224,71,0.5)]"></i>
                    <h2 class="text-5xl md:text-8xl font-black font-display mb-6">Stop Band-Aiding.</h2>
                    <p class="text-2xl md:text-3xl text-gray-400 font-light mb-12">
                        Start <span class="text-white font-bold underline decoration-neon-green decoration-4 underline-offset-8">Solving.</span>
                    </p>
                    <a href="#" onclick="location.reload()" class="inline-flex items-center gap-3 px-8 py-4 bg-neon-green text-black font-bold rounded-full hover:bg-white transition-colors duration-300">
                        <i class="fa-solid fa-rotate-right"></i> Replay Experience
                    </a>
                </div>
            </section>

        </div>
    </div>

    <script>
        gsap.registerPlugin(ScrollTrigger, ScrollToPlugin);

        // --- HORIZONTAL SCROLL SETUP ---
        const container = document.getElementById("container");
        const sections = gsap.utils.toArray(".panel");

        // The master horizontal scroll tween
        let scrollTween = gsap.to(sections, {
            xPercent: -100 * (sections.length - 1),
            ease: "none", // standard for scrubbing
            scrollTrigger: {
                trigger: ".outer-wrapper",
                pin: true,
                scrub: 1, // Smooth scrubbing effect
                snap: {
                    snapTo: 1 / (sections.length - 1),
                    duration: {min: 0.2, max: 0.3}, // Quick snap
                    delay: 0.1,
                    ease: "power1.inOut"
                },
                end: () => "+=" + container.offsetWidth // Scroll distance = width of container
            }
        });

        // --- UI UPDATES (Progress & Counter) ---
        sections.forEach((section, index) => {
            ScrollTrigger.create({
                trigger: section,
                containerAnimation: scrollTween,
                start: "left center",
                end: "right center",
                onEnter: () => updateUI(index),
                onEnterBack: () => updateUI(index)
            });
        });

        function updateUI(index) {
            // Update counter
            document.getElementById("slide-counter").innerText = 
                `${String(index + 1).padStart(2, '0')}/${String(sections.length).padStart(2, '0')}`;
            
            // Update progress bar
            const progress = ((index + 1) / sections.length) * 100;
            gsap.to("#progress-bar", { width: `${progress}%`, duration: 0.3 });
        }

        // --- NAVIGATION BUTTONS ---
        document.getElementById("nextBtn").addEventListener("click", () => {
            // Get current scroll position
            const currentScroll = window.scrollY;
            const windowHeight = window.innerHeight;
            // Scroll to next 'page' worth of pixels based on horizontal mapping
            // Note: The total scrollable height corresponds to total width.
            // A simple approximation for "Next Slide" in a pinned scrub scenario:
            const totalScrollHeight = document.documentElement.scrollHeight - window.innerHeight;
            const singleSlideScroll = totalScrollHeight / (sections.length - 1);
            
            gsap.to(window, { scrollTo: currentScroll + singleSlideScroll, duration: 1, ease: "power2.inOut" });
        });

        document.getElementById("prevBtn").addEventListener("click", () => {
            const currentScroll = window.scrollY;
            const totalScrollHeight = document.documentElement.scrollHeight - window.innerHeight;
            const singleSlideScroll = totalScrollHeight / (sections.length - 1);

            gsap.to(window, { scrollTo: currentScroll - singleSlideScroll, duration: 1, ease: "power2.inOut" });
        });


        // --- INTERNAL ANIMATIONS (PARALLAX & REVEALS) ---
        // These animations play AS the container moves horizontally past the viewport.
        
        sections.forEach((section) => {
            // 1. Text Reveal Animation
            const title = section.querySelector("h1, h2");
            if (title) {
                gsap.from(title, {
                    y: 100,
                    opacity: 0,
                    duration: 1,
                    ease: "power4.out",
                    scrollTrigger: {
                        trigger: section,
                        containerAnimation: scrollTween,
                        start: "left center",
                        toggleActions: "play none none reverse"
                    }
                });
            }

            // 2. Parallax Images
            const img = section.querySelector("img");
            if (img && img.dataset.speed) {
                gsap.to(img, {
                    x: -200, // Move image left slightly faster than container
                    ease: "none",
                    scrollTrigger: {
                        trigger: section,
                        containerAnimation: scrollTween,
                        start: "left right",
                        end: "right left",
                        scrub: true
                    }
                });
            }
            
            // 3. Staggered Lists/Items
            const items = section.querySelectorAll("li, .glass-card, .anim-fade-up");
            if (items.length > 0) {
                gsap.from(items, {
                    y: 50,
                    opacity: 0,
                    stagger: 0.1,
                    duration: 0.8,
                    ease: "back.out(1.7)",
                    scrollTrigger: {
                        trigger: section,
                        containerAnimation: scrollTween,
                        start: "left 60%", // Trigger when section is 60% in view
                        toggleActions: "play none none reverse"
                    }
                });
            }
        });

        // Intro specific animations (run once on load)
        const tl = gsap.timeline();
        tl.from(".anim-title-reveal", { y: 100, opacity: 0, duration: 1.5, ease: "power4.out", delay: 0.5 })
          .from(".anim-text-reveal", { width: 0, duration: 1, ease: "power2.inOut" }, "-=1");

    </script>
</body>
</html>